<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Наши регионы</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url('background.jpg') no-repeat center center fixed;
      background-size: cover;
      color: white;
    }

    .top-bar {
      position: fixed;
      top: 0;
      width: 100%;
      height: 80px;
      background-color: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      z-index: 1000;
    }

    .left-side,
    .center,
    .right-side {
      display: flex;
      align-items: center;
    }

    .left-side {
      flex: 1;
    }

    .center {
      flex: 1;
      justify-content: center;
    }

    .right-side {
      flex: 1;
      justify-content: flex-end;
      gap: 10px;
    }

    .menu-wrapper {
      position: relative;
    }

    .menu-button {
      padding: 12px 20px;
      border: 2px solid white;
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .menu-button:hover {
      box-shadow: 0 0 10px white;
      transform: scale(1.05);
    }

    .dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background-color: rgba(0, 0, 0, 0.9);
      border: 1px solid white;
      border-radius: 10px;
      display: none;
      flex-direction: column;
      padding: 10px;
      margin-top: 5px;
      z-index: 1001;
    }

    .dropdown button {
      background: none;
      border: none;
      color: white;
      padding: 8px 10px;
      text-align: left;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.2s;
    }

    .dropdown button:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .menu-wrapper:hover .dropdown {
      display: flex;
    }

    .auth-form input {
      padding: 6px 10px;
      border-radius: 5px;
      border: 1px solid white;
      background-color: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 14px;
      width: 120px;
    }

    .auth-form input::placeholder {
      color: #ccc;
    }

    .auth-form button {
      padding: 6px 10px;
      border: none;
      border-radius: 5px;
      background-color: white;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .auth-form button:hover {
      background-color: #ddd;
    }

    .auth-form {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* Герб */
    .emblem-button {
      background: none;
      border: 2px solid white;
      border-radius: 50%;
      padding: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .emblem-button img {
      height: 50px;
      width: 50px;
      border-radius: 50%;
      display: block;
    }

    .emblem-button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 10px white;
      background-color: rgba(255, 255, 255, 0.1);
    }

    /* Слайдер */
    .slider-container {
      position: relative;
      margin: 120px auto 20px;
      width: 80vw;
      max-width: 1000px;
      height: 50vh;
      overflow: hidden;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      border: 5px solid white;
      background-color: rgba(255, 255, 255, 0.1);
    }

    .slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
    }

    .dots {
      position: absolute;
      bottom: 15px;
      width: 100%;
      text-align: center;
      z-index: 10;
    }

    .dot {
      display: inline-block;
      width: 12px;
      height: 12px;
      margin: 0 5px;
      background-color: rgba(255, 255, 255, 0.4);
      border-radius: 50%;
      transition: background-color 0.3s;
      cursor: pointer;
    }

    .dot.active {
      background-color: white;
    }

    /* Сообщение авторизации */
    #authMessage {
      color: lightgreen;
      margin-left: 10px;
      font-weight: bold;
      align-self: center;
    }

    /* Календарь */
    .calendar-container {
      width: 80vw;
      max-width: 1000px;
      margin: 0 auto 50px;
      background-color: rgba(0, 0, 0, 0.7);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 0 15px rgba(255,255,255,0.3);
      color: white;
      user-select: none;
    }

    .calendar-header {
      text-align: center;
      font-size: 24px;
      margin-bottom: 15px;
      font-weight: bold;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    .day-name {
      font-weight: bold;
      text-align: center;
      padding-bottom: 6px;
      border-bottom: 1px solid rgba(255,255,255,0.3);
    }

    .calendar-day {
      position: relative;
      padding: 12px 5px;
      text-align: center;
      cursor: default;
      border-radius: 10px;
      transition: background-color 0.3s;
    }

    .calendar-day:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }

    /* Особый день - 25 мая */
    .special-day {
      background-color: rgba(255, 255, 255, 0.1);
      border: 2px solid white;
      cursor: pointer;
    }

    .special-day:hover {
      background-color: rgba(255, 255, 255, 0.3);
    }

    /* Всплывающее изображение */
    .tooltip-image {
      display: none;
      position: absolute;
      top: -150px;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      height: 100px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
      object-fit: cover;
      z-index: 1000;
      pointer-events: none;
    }

    .special-day:hover .tooltip-image {
      display: block;
    }
  </style>
</head>
<body>

  <!-- Верхняя панель -->
  <div class="top-bar">
    <div class="left-side">
      <div class="menu-wrapper">
        <button class="menu-button">Наши регионы</button>
        <div class="dropdown">
          <button onclick="location.href='tashkent.html'">Ташкент</button>
          <button>Андижан</button>
          <button>Бухара</button>
          <button>Джизак</button>
          <button>Кашкадарья</button>
          <button>Наманган</button>
          <button>Навоий</button>
          <button>Самарканд</button>
          <button>Сырдарья</button>
          <button>Фергана</button>
          <button>Хорезм</button>
          <button>Сурхандарья</button>
          <button>Каракалпакстан</button>
        </div>
      </div>
    </div>

    <!-- Центр: Герб -->
    <div class="center">
      <button class="emblem-button" onclick="location.href='index.html'">
        <img src="gerb.png" alt="Герб Узбекистана" />
      </button>
    </div>

    <!-- Справа: Форма авторизации или приветствие -->
    <div class="right-side" id="rightSide">

      <!-- Форма авторизации -->
      <form class="auth-form" id="authForm" onsubmit="event.preventDefault(); loginUser();">
        <input type="text" id="loginInput" placeholder="Логин" required />
        <input type="password" id="passwordInput" placeholder="Пароль" required />
        <button type="submit">Вход</button>
        <button type="button" id="openRegisterBtn">Регистрация</button>
        <span id="authMessage"></span>
      </form>

      <!-- Блок приветствия и выхода -->
      <div id="userBlock" style="display:none; align-items:center; gap: 10px;">
        <span>Вы вошли как <strong id="userNameDisplay"></strong></span>
        <button id="logoutBtn" style="padding: 6px 10px; border-radius: 5px; cursor: pointer;">Выйти</button>
      </div>
    </div>
  </div>

  <!-- Слайдер -->
  <div class="slider-container">
    <div class="slide"><img src="1.jpg" alt="Слайд 1" /></div>
    <div class="slide"><img src="2.jpg" alt="Слайд 2" /></div>
    <div class="slide"><img src="3.jpg" alt="Слайд 3" /></div>
    <div class="slide"><img src="4.jpg" alt="Слайд 4" /></div>
    <div class="slide"><img src="5.jpg" alt="Слайд 5" /></div>
    <div class="slide"><img src="6.jpg" alt="Слайд 6" /></div>
    <div class="slide"><img src="7.jpg" alt="Слайд 7" /></div>
    <div class="slide"><img src="8.jpg" alt="Слайд 8" /></div>
    <div class="slide"><img src="9.jpg" alt="Слайд 9" /></div>
    <div class="slide"><img src="10.jpg" alt="Слайд 10" /></div>

    <div class="dots"></div>
  </div>

  <!-- Календарь -->
  <div class="calendar-container">
    <div class="calendar-header" id="calendarHeader">Май 2025</div>
    <div class="calendar-grid" id="calendarGrid">
      <!-- Дни недели -->
      <div class="day-name">Пн</div>
      <div class="day-name">Вт</div>
      <div class="day-name">Ср</div>
      <div class="day-name">Чт</div>
      <div class="day-name">Пт</div>
      <div class="day-name">Сб</div>
      <div class="day-name">Вс</div>
    </div>
  </div>

  <!-- Модальное окно регистрации -->
  <div id="registerModal" style="display:none; position:fixed; top:50%; left:50%; transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.9); padding: 20px; border-radius: 10px; color: white; z-index: 2000; min-width: 300px;">
    <h3>Регистрация</h3>
    <form id="registerForm" onsubmit="event.preventDefault(); registerUser();">
      <input type="text" id="regLogin" placeholder="Логин" required style="margin-bottom:10px; width: 100%;" />
      <input type="password" id="regPassword" placeholder="Пароль" required style="margin-bottom:10px; width: 100%;" />
      <button type="submit" style="width: 100%;">Зарегистрироваться</button>
      <button type="button" id="closeRegisterBtn" style="margin-top:10px; width: 100%;">Отмена</button>
    </form>
    <div id="registerMessage" style="margin-top:10px; color: lightgreen;"></div>
  </div>

  <script>
    // ======= СЛАЙДЕР =======
    const slides = document.querySelectorAll('.slide');
    const dotsContainer = document.querySelector('.dots');
    let currentSlide = 0;

    // Создаем точки
    slides.forEach((_, idx) => {
      const dot = document.createElement('span');
      dot.classList.add('dot');
      if (idx === 0) dot.classList.add('active');
      dot.addEventListener('click', () => {
        goToSlide(idx);
      });
      dotsContainer.appendChild(dot);
    });

    const dots = document.querySelectorAll('.dot');

    function goToSlide(n) {
      slides.forEach((slide, idx) => {
        slide.style.display = idx === n ? 'block' : 'none';
      });
      dots.forEach((dot, idx) => {
        dot.classList.toggle('active', idx === n);
      });
      currentSlide = n;
    }

    function nextSlide() {
      let next = currentSlide + 1;
      if (next >= slides.length) next = 0;
      goToSlide(next);
    }

    goToSlide(0);
    setInterval(nextSlide, 3500);

    // ======= АВТОРИЗАЦИЯ =======
    const authForm = document.getElementById('authForm');
    const loginInput = document.getElementById('loginInput');
    const passwordInput = document.getElementById('passwordInput');
    const authMessage = document.getElementById('authMessage');
    const rightSide = document.getElementById('rightSide');
    const userBlock = document.getElementById('userBlock');
    const userNameDisplay = document.getElementById('userNameDisplay');
    const logoutBtn = document.getElementById('logoutBtn');
    const openRegisterBtn = document.getElementById('openRegisterBtn');

    let users = JSON.parse(localStorage.getItem('users') || '{}');
    let currentUser = localStorage.getItem('currentUser');

    function updateUI() {
      if (currentUser) {
        authForm.style.display = 'none';
        userBlock.style.display = 'flex';
        userNameDisplay.textContent = currentUser;
      } else {
        authForm.style.display = 'flex';
        userBlock.style.display = 'none';
        authMessage.textContent = '';
      }
    }

    function loginUser() {
      const login = loginInput.value.trim();
      const pass = passwordInput.value;
      if (!users[login]) {
        authMessage.textContent = 'Пользователь не найден';
        return;
      }
      if (users[login] !== pass) {
        authMessage.textContent = 'Неверный пароль';
        return;
      }
      currentUser = login;
      localStorage.setItem('currentUser', currentUser);
      updateUI();
      authMessage.textContent = '';
      loginInput.value = '';
      passwordInput.value = '';
    }

    logoutBtn.onclick = () => {
      currentUser = null;
      localStorage.removeItem('currentUser');
      updateUI();
    };

    updateUI();

    // ======= РЕГИСТРАЦИЯ =======
    const registerModal = document.getElementById('registerModal');
    const registerForm = document.getElementById('registerForm');
    const regLogin = document.getElementById('regLogin');
    const regPassword = document.getElementById('regPassword');
    const registerMessage = document.getElementById('registerMessage');
    const closeRegisterBtn = document.getElementById('closeRegisterBtn');

    openRegisterBtn.onclick = () => {
      registerModal.style.display = 'block';
      registerMessage.textContent = '';
      regLogin.value = '';
      regPassword.value = '';
    };

    closeRegisterBtn.onclick = () => {
      registerModal.style.display = 'none';
    };

    function registerUser() {
      const login = regLogin.value.trim();
      const pass = regPassword.value;
      if (users[login]) {
        registerMessage.style.color = 'red';
        registerMessage.textContent = 'Такой пользователь уже есть';
        return;
      }
      users[login] = pass;
      localStorage.setItem('users', JSON.stringify(users));
      registerMessage.style.color = 'lightgreen';
      registerMessage.textContent = 'Регистрация успешна! Теперь войдите.';
      regLogin.value = '';
      regPassword.value = '';
    }

    // ======= КАЛЕНДАРЬ МАЙ 2025 =======
    const calendarGrid = document.getElementById('calendarGrid');

    // Месяц май 2025 начинается с четверга (четвертый день недели), учитывая Пн=1
    // В нашем календаре понедельник - первый день, значит:
    // Май 1 мая 2025 — четверг -> значит пустые ячейки для Пн, Вт, Ср = 3

    const daysInMay = 31;
    const firstDayOfWeek = 4; // четверг -> значит 3 пустых дня (Пн=1, Вт=2, Ср=3)

    // Добавляем пустые ячейки перед 1 мая
    for (let i = 1; i < firstDayOfWeek; i++) {
      const emptyCell = document.createElement('div');
      calendarGrid.appendChild(emptyCell);
    }

    for (let day = 1; day <= daysInMay; day++) {
      const dayCell = document.createElement('div');
      dayCell.classList.add('calendar-day');
      dayCell.textContent = day;

      if (day === 25) {
        dayCell.classList.add('special-day');

        // Создаем всплывающее изображение
        const tooltipImg = document.createElement('img');
        tooltipImg.src = 'date25may.jpg';
        tooltipImg.alt = '25 мая';
        tooltipImg.classList.add('tooltip-image');

        dayCell.appendChild(tooltipImg);

        // Наведение и уход по событиям через CSS :hover (уже сделано)
      }

      calendarGrid.appendChild(dayCell);
    }
  </script>

</body>
</html>

